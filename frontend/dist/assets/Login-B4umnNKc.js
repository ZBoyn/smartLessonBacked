import{_ as U,J as A,r as m,k as B,j as F,o as K,f as o,e as s,h as r,w as l,b as t,d as N,K as T,E as w}from"./index-BotqV5dR.js";import{s as q}from"./request-BUaFPsLP.js";const D={class:"login-wrapper"},I={class:"login-content"},M={class:"login-left"},P={class:"login-info"},j={class:"feature-list"},z={class:"login-right"},H={class:"form-container"},J={class:"form-options"},G={class:"form-footer"},O={__name:"Login",setup(Q){const f=N(),_=A(),i=m(null),u=m(!1),c=m(!1),n=B({username:"",password:""}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},g=async()=>{i.value&&await i.value.validate(async v=>{if(v){u.value=!0;try{const e=await q.post("/auth/login",n);_.setLoginState({token:e.token,user:e.user||{username:n.username,role:"TEACHER"}}),w.success("登录成功，欢迎回来！"),_.isStudent?f.push("/student/dashboard"):f.push("/dashboard")}catch(e){console.error(e)}finally{u.value=!1}}})},V=()=>{w.info("注册功能暂未开放")};return(v,e)=>{const x=t("DataAnalysis"),d=t("el-icon"),C=t("EditPen"),E=t("Collection"),y=t("el-input"),p=t("el-form-item"),L=t("el-checkbox"),b=t("el-link"),R=t("el-button"),S=t("el-form");return K(),F("div",D,[o("div",I,[o("div",M,[o("div",P,[e[6]||(e[6]=o("h1",{class:"app-title"},"Smart Lesson",-1)),e[7]||(e[7]=o("p",{class:"app-desc"},"智能评估与学情分析引擎",-1)),o("ul",j,[o("li",null,[s(d,null,{default:l(()=>[s(x)]),_:1}),e[3]||(e[3]=r(" 知识图谱深度分析 ",-1))]),o("li",null,[s(d,null,{default:l(()=>[s(C)]),_:1}),e[4]||(e[4]=r(" AI 驱动智能批改 ",-1))]),o("li",null,[s(d,null,{default:l(()=>[s(E)]),_:1}),e[5]||(e[5]=r(" 智能化题库组卷 ",-1))])])]),e[8]||(e[8]=o("div",{class:"login-bg-circle"},null,-1)),e[9]||(e[9]=o("div",{class:"login-bg-circle-2"},null,-1))]),o("div",z,[o("div",H,[e[15]||(e[15]=o("h2",{class:"form-title"},"欢迎登录",-1)),e[16]||(e[16]=o("p",{class:"form-subtitle"},"请使用您的教职工/学生账号访问",-1)),s(S,{model:n,rules:k,ref_key:"loginFormRef",ref:i,class:"login-form",size:"large"},{default:l(()=>[s(p,{prop:"username"},{default:l(()=>[s(y,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=a=>n.username=a),placeholder:"用户名 / 邮箱","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),s(p,{prop:"password"},{default:l(()=>[s(y,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":"",onKeyup:T(g,["enter"])},null,8,["modelValue"])]),_:1}),o("div",J,[s(L,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=a=>c.value=a)},{default:l(()=>[...e[10]||(e[10]=[r("记住我",-1)])]),_:1},8,["modelValue"]),s(b,{type:"primary",underline:!1},{default:l(()=>[...e[11]||(e[11]=[r("忘记密码？",-1)])]),_:1})]),s(p,null,{default:l(()=>[s(R,{type:"primary",class:"submit-btn",loading:u.value,onClick:g},{default:l(()=>[...e[12]||(e[12]=[r(" 立即登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",G,[e[14]||(e[14]=o("span",null,"还没有账号？",-1)),s(b,{type:"primary",onClick:V},{default:l(()=>[...e[13]||(e[13]=[r("立即注册",-1)])]),_:1})])])])])])}}},Y=U(O,[["__scopeId","data-v-ac948ad0"]]);export{Y as default};
