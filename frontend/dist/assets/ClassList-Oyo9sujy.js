import{_ as E,u as L,r as m,l as U,j as z,o as g,f as y,e as l,w as t,b as a,s as M,h as n,g as $,a as j,E as V}from"./index-BotqV5dR.js";import{a as C}from"./modules-CiYeg_KF.js";import"./request-BUaFPsLP.js";const A={class:"page-container"},F={class:"header-actions"},P={__name:"ClassList",setup(R){const p=L().params.courseId,_=m(!1),c=m([]),r=m(!1),o=m({className:"",semester:""}),f=async()=>{if(p){_.value=!0;try{const u=await C.getClassesByCourse(p);c.value=u}catch(u){console.error(u)}finally{_.value=!1}}},w=async()=>{try{await C.createClass(p,o.value),V.success("创建成功"),r.value=!1,f()}catch{V.error("创建失败")}};return U(()=>{f()}),(u,e)=>{const d=a("el-button"),i=a("el-table-column"),N=a("el-tag"),k=a("el-table"),x=a("el-card"),v=a("el-input"),b=a("el-form-item"),B=a("el-form"),I=a("el-dialog"),D=M("loading");return g(),z("div",A,[y("div",F,[e[6]||(e[6]=y("h3",null,"班级管理",-1)),l(d,{type:"primary",icon:"Plus",onClick:e[0]||(e[0]=s=>r.value=!0)},{default:t(()=>[...e[5]||(e[5]=[n("创建新班级",-1)])]),_:1})]),l(x,null,{default:t(()=>[$((g(),j(k,{data:c.value,style:{width:"100%"}},{default:t(()=>[l(i,{prop:"classId",label:"班级ID",width:"100"}),l(i,{prop:"className",label:"班级名称"}),l(i,{prop:"semester",label:"学期"}),l(i,{label:"学生人数",width:"120"},{default:t(()=>[l(N,{type:"info"},{default:t(()=>[...e[7]||(e[7]=[n("0 人",-1)])]),_:1})]),_:1}),l(i,{label:"操作",width:"180"},{default:t(()=>[l(d,{size:"small"},{default:t(()=>[...e[8]||(e[8]=[n("学生名单",-1)])]),_:1}),l(d,{size:"small",type:"danger"},{default:t(()=>[...e[9]||(e[9]=[n("删除",-1)])]),_:1})]),_:1})]),_:1},8,["data"])),[[D,_.value]])]),_:1}),l(I,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=s=>r.value=s),title:"创建班级",width:"400px"},{footer:t(()=>[l(d,{onClick:e[3]||(e[3]=s=>r.value=!1)},{default:t(()=>[...e[10]||(e[10]=[n("取消",-1)])]),_:1}),l(d,{type:"primary",onClick:w},{default:t(()=>[...e[11]||(e[11]=[n("确认创建",-1)])]),_:1})]),default:t(()=>[l(B,{model:o.value},{default:t(()=>[l(b,{label:"班级名称"},{default:t(()=>[l(v,{modelValue:o.value.className,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.className=s),placeholder:"例如：2023级 计算机1班"},null,8,["modelValue"])]),_:1}),l(b,{label:"所属学期"},{default:t(()=>[l(v,{modelValue:o.value.semester,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.semester=s),placeholder:"例如：2023-2024-1"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},J=E(P,[["__scopeId","data-v-a65334b7"]]);export{J as default};
